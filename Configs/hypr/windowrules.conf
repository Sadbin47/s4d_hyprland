# Window Rules - Updated for Hyprland 0.45+
# New syntax: windowrule = effect, match:prop value

#=============================================================================
# FLOATING WINDOWS
#=============================================================================
windowrule = float on, match:class pavucontrol
windowrule = float on, match:class blueman-manager
windowrule = float on, match:class nm-connection-editor
windowrule = float on, match:class nwg-look
windowrule = float on, match:class qt5ct
windowrule = float on, match:class qt6ct
windowrule = float on, match:class file-roller
windowrule = float on, match:class ark
windowrule = float on, match:class org.gnome.Calculator
windowrule = float on, match:class gnome-calculator
windowrule = float on, match:class org.kde.polkit-kde-authentication-agent-1
windowrule = float on, match:class polkit-gnome-authentication-agent-1
windowrule = float on, match:class org.freedesktop.impl.portal.desktop.gtk
windowrule = float on, match:class org.freedesktop.impl.portal.desktop.hyprland

# Dialogs
windowrule = float on, match:title Open File
windowrule = float on, match:title Save File
windowrule = float on, match:title Open Folder
windowrule = float on, match:title Save As
windowrule = float on, match:title Confirm to replace files
windowrule = float on, match:title File Operation Progress

# Picture in Picture
windowrule = float on, match:title Picture-in-Picture
windowrule = pin on, match:title Picture-in-Picture
windowrule = size 30% 30%, match:title Picture-in-Picture
windowrule = move 69% 2%, match:title Picture-in-Picture

#=============================================================================
# CENTER FLOATING
#=============================================================================
windowrule = center on, match:float true

#=============================================================================
# SIZE CONSTRAINTS
#=============================================================================
windowrule = size 800 600, match:class pavucontrol
windowrule = size 700 500, match:class blueman-manager
windowrule = size 600 400, match:class nm-connection-editor

#=============================================================================
# OPACITY RULES
#=============================================================================
windowrule = opacity 0.92 0.88, match:class kitty
windowrule = opacity 0.95 0.92, match:class Code
windowrule = opacity 0.95 0.92, match:class code
windowrule = opacity 0.95 0.92, match:class code-oss
windowrule = opacity 0.98 0.95, match:class firefox
windowrule = opacity 0.95 0.90, match:class org.kde.dolphin
windowrule = opacity 0.95 0.90, match:class nemo
windowrule = opacity 0.95 0.90, match:class thunar

#=============================================================================
# WORKSPACE ASSIGNMENTS
#=============================================================================
# Web browsers -> Workspace 2
windowrule = workspace 2, match:class firefox
windowrule = workspace 2, match:class chromium
windowrule = workspace 2, match:class google-chrome
windowrule = workspace 2, match:class brave-browser

# Code editors -> Workspace 3
windowrule = workspace 3, match:class Code
windowrule = workspace 3, match:class code
windowrule = workspace 3, match:class code-oss
windowrule = workspace 3, match:class jetbrains-.*

# File managers -> Workspace 4
windowrule = workspace 4, match:class org.kde.dolphin
windowrule = workspace 4, match:class nemo
windowrule = workspace 4, match:class thunar
windowrule = workspace 4, match:class pcmanfm

# Communication -> Workspace 5
windowrule = workspace 5, match:class discord
windowrule = workspace 5, match:class Slack
windowrule = workspace 5, match:class telegram-desktop
windowrule = workspace 5, match:class teams-for-linux

# Media -> Workspace 6
windowrule = workspace 6, match:class Spotify
windowrule = workspace 6, match:class spotify
windowrule = workspace 6, match:class mpv
windowrule = workspace 6, match:class vlc

#=============================================================================
# SPECIAL RULES
#=============================================================================
# XWayland apps
windowrule = rounding 0, match:xwayland true
windowrule = no_shadow on, match:xwayland true

# Games - disable blur and shadows for performance
windowrule = no_blur on, match:class steam_app_.*
windowrule = no_shadow on, match:class steam_app_.*
windowrule = fullscreen on, match:class steam_app_.*

# Rofi
windowrule = float on, match:class Rofi
windowrule = animation slide, match:class Rofi

# SwayNC notifications
windowrule = float on, match:class swaync
windowrule = no_shadow on, match:class swaync

#=============================================================================
# LAYER RULES
#=============================================================================
layerrule = blur on, match:namespace waybar
layerrule = blur on, match:namespace rofi
layerrule = blur on, match:namespace swaync-control-center
layerrule = blur on, match:namespace swaync-notification-window
layerrule = ignore_alpha 0.5, match:namespace waybar
layerrule = ignore_alpha 0.5, match:namespace rofi
