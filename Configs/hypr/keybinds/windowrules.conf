# ── Window Rules ──────────────────────────────────────────────────────────────

# ━━━ Float Rules ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
windowrule = float, match:class ^(pavucontrol)$
windowrule = float, match:class ^(blueman-manager)$
windowrule = float, match:class ^(nm-connection-editor)$
windowrule = float, match:class ^(nwg-look)$
windowrule = float, match:class ^(qt5ct)$
windowrule = float, match:class ^(qt6ct)$
windowrule = float, match:class ^(file-roller)$
windowrule = float, match:class ^(ark)$
windowrule = float, match:class ^(org.gnome.Calculator)$
windowrule = float, match:class ^(org.kde.polkit-kde-authentication-agent-1)$
windowrule = float, match:class ^(polkit-gnome-authentication-agent-1)$
windowrule = float, match:class ^(org.freedesktop.impl.portal)(.*)$
windowrule = float, match:class ^(waypaper)$
windowrule = float, match:class ^(Bitwarden)$
windowrule = float, match:class ^(1Password)$

# Dialogs
windowrule = float, match:title ^(Open File)(.*)$
windowrule = float, match:title ^(Save File)(.*)$
windowrule = float, match:title ^(Open Folder)(.*)$
windowrule = float, match:title ^(Save As)(.*)$
windowrule = float, match:title ^(Confirm to replace files)$
windowrule = float, match:title ^(File Operation Progress)$

# PiP
windowrule = float, match:title ^(Picture-in-Picture)$
windowrule = pin, match:title ^(Picture-in-Picture)$
windowrule = keep_aspect_ratio, match:title ^(Picture-in-Picture)$
windowrule = size 25% 25%, match:title ^(Picture-in-Picture)$
windowrule = move 73% 2%, match:title ^(Picture-in-Picture)$

# ━━━ Size Constraints ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
windowrule = size 800 600, match:class ^(pavucontrol)$
windowrule = size 700 500, match:class ^(blueman-manager)$
windowrule = center, match:class ^(pavucontrol)$
windowrule = center, match:class ^(blueman-manager)$

# ━━━ Opacity Rules ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
windowrule = opacity 0.88 0.85, match:class ^(kitty)$
windowrule = opacity 0.95 0.92, match:class ^([Cc]ode)$
windowrule = opacity 0.95 0.92, match:class ^(code-oss)$
windowrule = opacity 0.98 0.95, match:class ^(firefox)$
windowrule = opacity 0.88 0.80, match:class ^(org.kde.dolphin)$
windowrule = opacity 0.95 0.90, match:class ^(nemo)$
windowrule = opacity 0.90 0.85, match:class ^(Spotify)$
windowrule = opacity 0.90 0.85, match:class ^(spotify)$
windowrule = opacity 0.90 0.85, match:class ^(discord)$
windowrule = opacity 0.80 0.70, match:class ^(Rofi)$

# ━━━ Workspace Assignments ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
# Browsers → 2
windowrule = workspace 2 silent, match:class ^(firefox)$
windowrule = workspace 2 silent, match:class ^(chromium)$
windowrule = workspace 2 silent, match:class ^(brave-browser)$

# Editors → 3
windowrule = workspace 3 silent, match:class ^([Cc]ode)$
windowrule = workspace 3 silent, match:class ^(code-oss)$
windowrule = workspace 3 silent, match:class ^(jetbrains-.*)$

# File Managers → 4
windowrule = workspace 4 silent, match:class ^(org.kde.dolphin)$
windowrule = workspace 4 silent, match:class ^(nemo)$

# Communication → 5
windowrule = workspace 5 silent, match:class ^(discord)$
windowrule = workspace 5 silent, match:class ^(Slack)$
windowrule = workspace 5 silent, match:class ^(telegram-desktop)$

# Media → 6
windowrule = workspace 6 silent, match:class ^([Ss]potify)$
windowrule = workspace 6 silent, match:class ^(mpv)$

# ━━━ Special Rules ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
# Games
windowrule = fullscreen, match:class ^(steam_app_.*)$
windowrule = immediate on, match:class ^(steam_app_.*)$

# Wlogout
windowrule = float, match:class ^(wlogout)$
windowrule = fullscreen, match:class ^(wlogout)$

# Idle inhibit for media
windowrule = idle_inhibit fullscreen, match:class ^(firefox)$
windowrule = idle_inhibit fullscreen, match:class ^(mpv)$

# ━━━ Layer Rules ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
layerrule = blur on, match:namespace waybar
layerrule = blur on, match:namespace rofi
layerrule = blur on, match:namespace swaync-control-center
layerrule = blur on, match:namespace swaync-notification-window
layerrule = ignore_alpha 0, match:namespace waybar
layerrule = ignore_alpha 0, match:namespace rofi
layerrule = ignore_alpha 0, match:namespace swaync-control-center
layerrule = ignore_alpha 0, match:namespace swaync-notification-window
layerrule = no_anim on, match:namespace hyprpicker
layerrule = no_anim on, match:namespace selection
