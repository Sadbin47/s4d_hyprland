# ── Window Rules ──────────────────────────────────────────────────────────────

# ━━━ Float Rules ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
windowrule = float on, match:class ^(pavucontrol)$
windowrule = float on, match:class ^(org.pulseaudio.pavucontrol)$
windowrule = float on, match:class ^(blueman-manager)$
windowrule = float on, match:class ^(nm-connection-editor)$
windowrule = float on, match:class ^(nm-applet)$
windowrule = float on, match:class ^(nwg-look)$
windowrule = float on, match:class ^(qt5ct)$
windowrule = float on, match:class ^(qt6ct)$
windowrule = float on, match:class ^(kvantummanager)$
windowrule = float on, match:class ^(file-roller)$
windowrule = float on, match:class ^(ark)$
windowrule = float on, match:class ^(org.kde.ark)$
windowrule = float on, match:class ^(org.gnome.Calculator)$
windowrule = float on, match:class ^(org.kde.polkit-kde-authentication-agent-1)$
windowrule = float on, match:class ^(polkit-gnome-authentication-agent-1)$
windowrule = float on, match:class ^(org.freedesktop.impl.portal)(.*)$
windowrule = float on, match:class ^(waypaper)$
windowrule = float on, match:class ^(Bitwarden)$
windowrule = float on, match:class ^(1Password)$
windowrule = float on, match:class ^(imv)$
windowrule = float on, match:class ^(feh)$
windowrule = float on, match:class ^(eog)$
windowrule = float on, match:class ^(swappy)$
windowrule = float on, match:class ^(yad)$
windowrule = float on, match:class ^(org.kde.filelight)$
windowrule = float on, match:class ^(org.gnome.Shotwell)$
windowrule = float on, match:class ^(vlc)$

# Dialogs
windowrule = float on, match:title ^(Open File)(.*)$
windowrule = float on, match:title ^(Save File)(.*)$
windowrule = float on, match:title ^(Open Folder)(.*)$
windowrule = float on, match:title ^(Save As)(.*)$
windowrule = float on, match:title ^(Confirm to replace files)$
windowrule = float on, match:title ^(File Operation Progress)$

# PiP
windowrule = float on, match:title ^(Picture-in-Picture)(.*)$
windowrule = pin on, match:title ^(Picture-in-Picture)(.*)$
windowrule = keep_aspect_ratio on, match:title ^(Picture-in-Picture)(.*)$
windowrule = size 25% 25%, match:title ^(Picture-in-Picture)(.*)$
windowrule = move 73% 2%, match:title ^(Picture-in-Picture)(.*)$

# ━━━ Size Constraints ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
windowrule = size 800 600, match:class ^(pavucontrol)$
windowrule = size 800 600, match:class ^(org.pulseaudio.pavucontrol)$
windowrule = size 700 500, match:class ^(blueman-manager)$
windowrule = size 800 600, match:class ^(waypaper)$
windowrule = center on, match:class ^(pavucontrol)$
windowrule = center on, match:class ^(org.pulseaudio.pavucontrol)$
windowrule = center on, match:class ^(blueman-manager)$
windowrule = center on, match:class ^(waypaper)$
windowrule = center on, match:class ^(Bitwarden)$
windowrule = center on, match:class ^(1Password)$

# ━━━ Opacity Rules ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
windowrule = opacity 0.88 0.85, match:class ^(kitty)$
windowrule = opacity 0.95 0.92, match:class ^([Cc]ode)$
windowrule = opacity 0.95 0.92, match:class ^(code-oss)$
windowrule = opacity 0.98 0.95, match:class ^(firefox)$
windowrule = opacity 0.88 0.80, match:class ^(org.kde.dolphin)$
windowrule = opacity 0.90 0.85, match:class ^(Spotify)$
windowrule = opacity 0.90 0.85, match:class ^(spotify)$
windowrule = opacity 0.90 0.85, match:class ^(discord)$
windowrule = opacity 0.80 0.70, match:class ^(Rofi)$

# ━━━ Workspace Assignments ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
# Uncomment any of these if you want apps to auto-open on specific workspaces:
# windowrule = workspace 2 silent, match:class ^(firefox)$
# windowrule = workspace 2 silent, match:class ^(chromium)$
# windowrule = workspace 2 silent, match:class ^(brave-browser)$
# windowrule = workspace 3 silent, match:class ^([Cc]ode)$
# windowrule = workspace 3 silent, match:class ^(code-oss)$
# windowrule = workspace 3 silent, match:class ^(jetbrains-.*)$
# windowrule = workspace 4 silent, match:class ^(org.kde.dolphin)$
# windowrule = workspace 5 silent, match:class ^(discord)$
# windowrule = workspace 5 silent, match:class ^(Slack)$
# windowrule = workspace 5 silent, match:class ^(telegram-desktop)$
# windowrule = workspace 6 silent, match:class ^([Ss]potify)$
# windowrule = workspace 6 silent, match:class ^(mpv)$

# ━━━ Special Rules ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
# Games
windowrule = fullscreen on, match:class ^(steam_app_.*)$
windowrule = immediate on, match:class ^(steam_app_.*)$
windowrule = float on, match:class ^([Ss]team)$, match:title ^(Friends List)(.*)$
windowrule = float on, match:class ^([Ss]team)$, match:title ^(Steam Settings)(.*)$

# Wlogout
windowrule = float on, match:class ^(wlogout)$
windowrule = fullscreen on, match:class ^(wlogout)$

# Idle inhibit for fullscreen media players
windowrule = idle_inhibit fullscreen, match:class ^(firefox)$
windowrule = idle_inhibit fullscreen, match:class ^(mpv)$
windowrule = idle_inhibit fullscreen, match:class ^(.*celluloid.*)$
windowrule = idle_inhibit fullscreen, match:class ^(.*vlc.*)$
windowrule = idle_inhibit fullscreen, match:class ^(.*brave-browser.*)$
windowrule = idle_inhibit fullscreen, match:class ^(.*chromium.*)$
windowrule = idle_inhibit fullscreen, match:class ^(.*zen.*)$
windowrule = idle_inhibit fullscreen, match:class ^([Ss]potify)$

# xwaylandvideobridge (screen sharing helper)
windowrule = opacity 0 override, match:class ^(xwaylandvideobridge)$
windowrule = noanim on, match:class ^(xwaylandvideobridge)$
windowrule = noinitialfocus on, match:class ^(xwaylandvideobridge)$
windowrule = maxsize 1 1, match:class ^(xwaylandvideobridge)$
windowrule = noblur on, match:class ^(xwaylandvideobridge)$

# JetBrains IDEs — prevent dropdown flicker
windowrule = noinitialfocus on, match:class ^(.*jetbrains.*)$, match:title ^(win[0-9]+)$

# Keybinds help floater
windowrule = float on, match:class ^(floating-help)$
windowrule = size 700 600, match:class ^(floating-help)$
windowrule = center on, match:class ^(floating-help)$

# ━━━ Layer Rules ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
layerrule = blur on, match:namespace waybar
layerrule = blur on, match:namespace rofi
layerrule = blur on, match:namespace swaync-control-center
layerrule = blur on, match:namespace swaync-notification-window
layerrule = ignore_alpha 0, match:namespace waybar
layerrule = ignore_alpha 0, match:namespace rofi
layerrule = ignore_alpha 0, match:namespace swaync-control-center
layerrule = ignore_alpha 0, match:namespace swaync-notification-window
layerrule = no_anim on, match:namespace hyprpicker
layerrule = no_anim on, match:namespace selection
