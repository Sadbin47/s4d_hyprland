#!/bin/bash
#=============================================================================
# HYPRLAND PACKAGES — Core Hyprland and WM components
#=============================================================================

source "$(dirname "${BASH_SOURCE[0]}")/../Scripts/functions.sh"

log "${INFO} Installing Hyprland core packages..."

HYPRLAND_PACKAGES=(
    # Compositor
    "hyprland"

    # Hypr tools
    "hyprlock"
    "hypridle"
    "hyprpicker"

    # Core apps
    "kitty"
    "rofi-wayland"
    "swww"

    # Notifications
    "swaync"

    # Screenshots
    "grim"
    "slurp"

    # Clipboard
    "cliphist"

    # Qt/GTK Wayland
    "qt5-wayland"
    "qt6-wayland"
    "qt5ct"
    "qt6ct"
    "nwg-look"
    "kvantum"
    "qt5-imageformats"
    "ffmpegthumbs"
)

for pkg in "${HYPRLAND_PACKAGES[@]}"; do
    install_pkg "$pkg"
done

# rofi-wayland provides rofi — if it failed, try plain rofi
if ! pkg_installed "rofi-wayland" && ! pkg_installed "rofi"; then
    install_pkg "rofi"
fi

log "${OK} Hyprland core packages done"
